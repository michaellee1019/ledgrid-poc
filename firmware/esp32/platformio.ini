[platformio]
; Allow environment variables to control build flags
extra_configs = 

[env:esp32-s3-devkitc-1]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
board_build.flash_mode = dio
board_build.f_flash = 80000000L
board_build.f_cpu = 240000000L

; Build flags - UART (USB-CDC) mode for LED control
; Pure USB serial communication @ 115200 bps
; Use DEBUG=1 environment variable to enable verbose logging
; Example: DEBUG=1 pio run --target upload
build_flags = 
    -O2
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DARDUINO_USB_MODE=1
    ${sysenv.DEBUG == "1" and '-DDEBUG_LOGGING=1' or ''}

; Libraries
lib_deps = 
    fastled/FastLED@^3.7.0

; Upload settings
upload_speed = 460800
monitor_speed = 115200

; Monitor settings
monitor_raw = yes

; Auto-detect port (PlatformIO will find it)
; If detection fails, uncomment and specify manually:
; upload_port = /dev/cu.usbmodem*
; monitor_port = /dev/cu.usbmodem*
